// climateController

expats.controller('climateController', function($scope, Session, WikiEndpoint, $http, Weather){
  
  if (Session.city == "New York"){
		var city = "New_York";
  }
  else if (Session.city == "San Francisco"){
		var city = "San_Francisco";
  }
  else if (Session.city == "Sevilla"){
		var city = "Seville";
  }
  else if (Session.city == "Los Angeles"){
		var city = "Los_Angeles";
  }
  else {
		var city = Session.city;
  }

  var part0 = WikiEndpoint.url;
  var part1 ="?action=query&prop=extracts&titles=";
  //var part1b ="?action=query&prop=extracts&titles=";
  var part2 ="Climate_of_"+city;
  //var part2b = city;
  var part3 ="&format=json&exintro";
  //var part3b ="&format=json";
  var address = part0+part1+part2+part3;
  //var address2 = part0+part1+part2b+part3b;

  if (city == "Auckland"){
    $scope.description = "<p>Under Trewartha climate classification, Auckland has a subtropical climate, with warm, humid summers and mild, damp winters. Under K\u00f6ppen's climate classification, the city has an oceanic climate (<i>Cfb</i>). It is the warmest main centre of New Zealand and is also one of the sunniest, with an average of 2060 sunshine hours per annum. The average daily maximum temperature is 23.7 \u00b0C (74.7\u00a0\u00b0F) in February and 14.5\u00a0\u00b0C (58.1\u00a0\u00b0F) in July. The absolute maximum recorded temperature is 34.4\u00a0\u00b0C (93.9\u00a0\u00b0F), while the absolute minimum is \u22120.6\u00a0\u00b0C (30.9\u00a0\u00b0F). High levels of rainfall occur almost year-round with an average of 1240\u00a0mm per year spread over 137 'rain days'. Snowfall in Auckland is extremely rare; recorded instances include 27 July 1939 and 15 August 2011, although without any accumulation.</p>\n<p>The early morning calm on the isthmus during settled weather, before the sea breeze rises, was described as early as 1853: \"In all seasons, the beauty of the day is in the early morning. At that time, generally, a solemn stillness holds, and a perfect calm prevails...\". Many Aucklanders use this time of day to walk and run in parks.</p>\n<p>Auckland occasionally suffers from air pollution due to fine particle emissions. There are also occasional breaches of guideline levels of carbon monoxide. While maritime winds normally disperse the pollution relatively quickly it can sometimes become visible as smog, especially on calm winter days. Precipitation is relatively abundant all year round, but is higher in winter. The west of Auckland is slightly wetter and cooler than the eastern side, with the gulf islands being warmer and drier still.</p>\n";
  }
  else if (city == "Christchurch"){
    $scope.description = "<p>Christchurch has a temperate climate with moderate rainfall. It has mean daily maximum air temperatures of 22.5\u00a0\u00b0C (73\u00a0\u00b0F) in January and 11.3\u00a0\u00b0C (52\u00a0\u00b0F) in July. Under the K\u00f6ppen climate classification, Christchurch has an oceanic climate (<i>Cfb</i>). Summer in the city is mild and is often moderated by a sea breeze from the Northeast, but a record temperature of 41.6\u00a0\u00b0C (107\u00a0\u00b0F) was reached in February 1973. A notable feature of the weather is the <i>nor'wester</i>, a hot f\u00f6hn wind that occasionally reaches storm force, causing widespread minor damage to property. Christchurch experiences the urban heat island phenomenon, similar to cities such as Tokyo, London and New York City, making temperatures feel warmer than they actually are within the inner city regions.</p>\n<p>In winter it is common for the temperature to fall below 0\u00a0\u00b0C (32\u00a0\u00b0F) at night. There are on average 99 days of ground frost per year. Snowfalls occur on average three times per year, although in some years no snowfall is recorded. The coldest temperature recorded was \u22127.1\u00a0\u00b0C (19\u00a0\u00b0F) on 18 July 1945, the third lowest recorded temperature of New Zealand's major cities.</p>\n<p>On cold winter nights, the surrounding hills, clear skies, and frosty calm conditions often combine to form a stable inversion layer above the city that traps vehicle exhausts and smoke from domestic fires to cause smog. While not as bad as smog in Los Angeles or Mexico City, Christchurch smog has often exceeded World Health Organisation recommendations for air pollution. To limit air pollution, the regional council banned the use of open fires in the city in 2006. In 2008 council prohibited the use of woodburners more than 15 years old, while making funding available to upgrade domestic home heating systems.</p>\n";
  }
  else if (city == "Seville"){
    $scope.description = "<p>Seville has a subtropical Mediterranean climate (K\u00f6ppen climate classification <i>Csa</i>). Like most Mediterranean climates, Seville has a drier summer and wet winter. The annual average temperature is 25\u00a0\u00b0C (77\u00a0\u00b0F) during the day and 13\u00a0\u00b0C (55\u00a0\u00b0F) at night.</p>\n<p>After the city of C\u00f3rdoba (also in Andalusia), Seville has the hottest summer in continental Europe among all cities with a population over 100,000 people, with average daily highs in July of 36.0\u00a0\u00b0C (97\u00a0\u00b0F). Average minimum temperatures in July are 20.3\u00a0\u00b0C (69\u00a0\u00b0F) and every year the temperature exceeds 40\u00a0\u00b0C (104\u00a0\u00b0F) on several occasions. The coldest temperature extreme of \u22128.2\u00a0\u00b0C (17\u00a0\u00b0F) was registered by the weather station at Seville Airport on 28 January 2005. A historical record high (disputed) of 50.0\u00a0\u00b0C (122\u00a0\u00b0F) was recorded on 4 August 1881, according to the NOAA Satellite and Information Service. There is a non-accredited record by the National Institute of Meteorology of 47.2\u00a0\u00b0C (117\u00a0\u00b0F) on 1 August during the 2003 heat wave, according to a weather station (83910 LEZL) located in the southern part of Seville Airport, near the abandoned military zone. This temperature would be one of the highest ever recorded in Spain and Europe after the European record of 48.0\u00a0\u00b0C (118\u00a0\u00b0F) recorded in Athens on 10 July 1977 and the 47.4\u00a0\u00b0C (117.4\u00a0\u00b0F) of Amareleja, Portugal on 1 August 2003.</p>\n<ul><li>Winters are mild: January is the coolest month, with average maximum temperatures of 16.0\u00a0\u00b0C (61\u00a0\u00b0F) and minimum of 5.7\u00a0\u00b0C (42\u00a0\u00b0F).</li>\n<li>Precipitation varies from 400 to 800\u00a0mm (15.7 to 31.5\u00a0in) per year, concentrated in the period October to April. December is the wettest month, with an average rainfall of 99 millimetres (3.9\u00a0in). On average there are 66 days of rain.</li>\n</ul>";
  }
  else if (city == "Berlin"){
    $scope.description = "<p>Berlin has an humid continental (\"Dfb<i>) according to the K\u00f6ppen climate classification system. There are significant influences of mild continental climate due to its inland position, with frosts being common in winter and there being larger temperature differences between seasons than typical for many oceanic climates.</i></p>\n<p>Summers are warm and sometimes humid with average high temperatures of 22\u201325\u00a0\u00b0C (72\u201377\u00a0\u00b0F) and lows of 12\u201314\u00a0\u00b0C (54\u201357\u00a0\u00b0F). Winters are cool with average high temperatures of 3\u00a0\u00b0C (37\u00a0\u00b0F) and lows of \u22122 to 0\u00a0\u00b0C (28 to 32\u00a0\u00b0F). Spring and autumn are generally chilly to mild. Berlin's built-up area creates a microclimate, with heat stored by the city's buildings. Temperatures can be 4\u00a0\u00b0C (7\u00a0\u00b0F) higher in the city than in the surrounding areas.</p>\n<p>Annual precipitation is 570 millimeters (22\u00a0in) with moderate rainfall throughout the year. Snowfall mainly occurs from December through March.<br style=\"clear:both;\"></p>\n";
  }
  else if (city == "San_Francisco"){
    $scope.description = "<p>A popular quote incorrectly attributed to Mark Twain is \"The coldest winter I ever spent was a summer in San Francisco.\" San Francisco's climate is characteristic of the cool-summer Mediterranean climate (Csb) of California\u2019s coast, \"generally characterized by moist mild winters and dry summers\". Since it is surrounded on three sides by water, San Francisco's weather is strongly influenced by the cool currents of the Pacific Ocean, which moderate temperature swings and produce a remarkably mild year-round climate with little seasonal temperature variation.</p>\n\n<p>Among major U.S. cities, San Francisco has the coolest daily mean, maximum, and minimum temperatures for June, July, and August. During the summer, rising hot air in California's interior valleys creates a low pressure area that draws winds from the North Pacific High through the Golden Gate, which creates the city's characteristic cool winds and fog. The fog has an active Twitter following at @KarlTheFog. The fog is less pronounced in eastern neighborhoods and during the late summer and early fall, which is the warmest time of the year.</p>\n<p>Because of its sharp topography and maritime influences, San Francisco exhibits a multitude of distinct microclimates. The high hills in the geographic center of the city are responsible for a 20% variance in annual rainfall between different parts of the city. They also protect neighborhoods directly to their east (\"banana belts\" such as Noe Valley) from the foggy and sometimes very cold and windy conditions experienced in the Sunset District; for those who live on the eastern side of the city, San Francisco is sunnier, with an average of 260 clear days, and only 105 cloudy days per year.</p>\n<p>Temperatures reach or exceed 80\u00a0\u00b0F (27\u00a0\u00b0C) on an average of only 21 and 23\u00a0days a year at downtown and San Francisco International Airport (SFO), respectively. The dry period of May to October is mild to warm, with the normal monthly mean temperature peaking in September at 62.7\u00a0\u00b0F (17.1\u00a0\u00b0C). The rainy period of November to April is slightly cooler, with the normal monthly mean temperature reaching its lowest in January at 51.3\u00a0\u00b0F (10.7\u00a0\u00b0C). On average, there are 73 rainy days a year, and annual precipitation averages 23.65 inches (601\u00a0mm). Variation in precipitation from year to year is high. In 2013, a record low 5.59\u00a0in (142\u00a0mm) of rainfall was recorded at downtown San Francisco, where records have been kept since 1849; low records were shattered in much of the state. Snowfall in the city is very rare, with only 10 measurable accumulations recorded since 1852, most recently in 1976 when up to 5 inches (130\u00a0mm) fell on Twin Peaks.</p>\n<p>The highest recorded temperature at the official National Weather Service office was 103\u00a0\u00b0F (39\u00a0\u00b0C) on July 17, 1988, and June 14, 2000. The lowest recorded temperature was 27\u00a0\u00b0F (\u22123\u00a0\u00b0C) on December 11, 1932. The National Weather Service provides a helpful visual aid graphing the information in the table below to display visually by month the annual typical temperatures, the past year's temperatures, and record temperatures.</p>\n<p>San Francisco falls under the USDA 10b Plant Hardiness zone.</p>\n";
  }
  else if (city == "Brisbane"){
    $scope.description = "<p>Brisbane has a humid subtropical climate (K\u00f6ppen climate classification: <i>Cfa</i>) with hot, humid summers and dry moderately warm winters. From November to March, thunderstorms are common over Brisbane, with the more severe events accompanied by large damaging hail stones, torrential rain and destructive winds. On an annual basis, Brisbane averages 124 clear days. Dewpoints in the summer average at around 20\u00a0\u00b0C (68.0\u00a0\u00b0F).</p>\n<p>The city's highest recorded temperature was 43.2\u00a0\u00b0C (110\u00a0\u00b0F) on 26 January 1940, but temperatures above 38\u00a0\u00b0C (100\u00a0\u00b0F) are uncommon. On 19 July 2007, Brisbane's temperature fell below the freezing point for the first time since records began, registering \u22120.1\u00a0\u00b0C (32\u00a0\u00b0F) at the airport. In 2009 Brisbane recorded its hottest winter day at 35.4\u00a0\u00b0C (96\u00a0\u00b0F) on 24 August. Brisbane's wettest day occurred on 21 January 1887, when 465 millimetres (18.3\u00a0in) of rain fell on the city, the highest maximum daily rainfall of Australia's capital cities.</p>\n<p>From 2001 until 2010, Brisbane and surrounding temperate areas had been experiencing the most severe drought in over a century, with dam levels dropping to 16.9% of their capacity on 10 August 2007. Residents were mandated by local laws to observe level 6 water restrictions on gardening and other outdoor water usage. Per capita water usage is below 140 litres per day, giving Brisbane one of the lowest per capita usages of water of any developed city in the world. On 9 January 2011, an upper low crossed north of Brisbane and dropped rainfall on an already saturated southeast coast of Queensland, resulting in severe flooding and damage in Brisbane and the surrounding area; the same storm season also caused the water storage to climb to over 98% of maximum capacity and broke the drought. Water restrictions have been replaced with water conservation measures that aim at a target of 200 litres per day/per person, but consumption is rarely over 160 litres. In November 2011, Brisbane saw 22 days with no recorded rainfall, which was the driest start to a November since 1919. Furthermore, August 2012 was the city's driest August and the driest month ever experienced in its recorded history (records at the Brisbane Airport commenced in 1929, although the station closed in February 2000). At the meteorological station in the city's downtown core (Brisbane Station), only 0.2\u00a0mm of precipitation was recorded in August 2012.</p>\n\n<p>Brisbane also lies in the Tropical Cyclone risk area, although cyclones are rare. The last to affect Brisbane but not directly cross the city was Tropical Cyclone Hamish in March 2009: it remained 350\u00a0km (220\u00a0mi) north of Brisbane but caused significant damage to beaches as well as the worst oil spill in Moreton Bay. Average annual temperature of the sea is 24\u00a0\u00b0C (75\u00a0\u00b0F), from 21\u00a0\u00b0C (70\u00a0\u00b0F) in July to 27\u00a0\u00b0C (81\u00a0\u00b0F) in February. The city is susceptible to severe thunderstorms in the spring and summer months; on 16 November 2008 a severe storm caused tremendous damage in the outer suburbs, most notably The Gap. Roofs were torn off houses and hundreds of trees were felled. More recently, on 27 November 2014, a very strong storm made a direct hit on the city centre. Described as 'the worst storm in a decade,' very large hail smashed skyscraper windows while a flash flood tore through the CBD. Wind gusts of 141\u00a0km/h (88\u00a0mph) were recorded in some suburbs, many houses were severely damaged, cars were destroyed and planes were flipped at the Brisbane and Archerfield Airports. Dust storms in Brisbane are extremely rare; on 23 September 2009, however, a severe dust storm blanketed Brisbane, as well as other parts of eastern Australia.</p>\n";
  }
  else if (city == "London"){
    $scope.description = "<p>London has a temperate oceanic climate (K\u00f6ppen: <i>Cfb\u202f</i>), similar to all of southern Britain. Despite its reputation as being a rainy city, London receives less precipitation (with 601\u00a0mm (24\u00a0in) in a year), than Rome (at 834\u00a0mm (33\u00a0in)), Bordeaux (at 923\u00a0mm (36\u00a0in)), Toulouse (at 668\u00a0mm (26\u00a0in)), and Naples (at 1,006\u00a0mm (40\u00a0in) per year). Temperature extremes for all sites in the London area range from 38.1\u00a0\u00b0C (100.6\u00a0\u00b0F) at Kew during August 2003  down to \u221216.1\u00a0\u00b0C (3.0\u00a0\u00b0F) at Northolt during January 1962. 38.5\u00a0\u00b0C (101.3\u00a0\u00b0F) has been achieved in nearby Gravesend, however, which tends to record the highest temperature readings in the UK during summer. Temperatures of below \u221220\u00a0\u00b0C (\u22124.0\u00a0\u00b0F) have been noted prior to the 20th century, but the accuracy cannot be validated.</p>\n<p>Summers are generally warm and sometimes hot, London's average July high is 24\u00a0\u00b0C (75.2\u00a0\u00b0F). On average London will see 31 days above 25\u00a0\u00b0C (77.0\u00a0\u00b0F) each year, and 4.2 days above 30.0\u00a0\u00b0C (86.0\u00a0\u00b0F) every year. During the 2003 European heat wave there were 14 consecutive days above 30\u00a0\u00b0C (86.0\u00a0\u00b0F) and 2 consecutive days where temperatures reached 38\u00a0\u00b0C (100.4\u00a0\u00b0F), leading to hundreds of heat related deaths. Winters are generally cool and damp with little temperature variation. Snowfall does occur from time to time, and can cause travel disruption when this happens. Spring and autumn are mixed seasons and can be pleasant. On 1 October 2011, the air temperature attained 30\u00a0\u00b0C (86.0\u00a0\u00b0F) and in April 2011 it reached 28\u00a0\u00b0C (82.4\u00a0\u00b0F). As a large city, London has a considerable urban heat island effect, making the centre of London at times 5\u00a0\u00b0C (9\u00a0\u00b0F) warmer than the suburbs and outskirts. The effect of this can be seen below when comparing London Heathrow on the outskirts of London with the London Weather Centre which is located in the centre of London.</p>\n";
  }
  else if (city == "Munich"){
    $scope.description = "<p>Munich's climate is classified in the K\u00f6ppen classification as Cfb (Oceanic).</p>\n<p>The warmest month of the year, on average, is July. The coolest month of the year, on average, is January.</p>\n<p>Showers and thunderstorms bring the highest average monthly precipitation totals in late spring and throughout the summer. June, on average, records the most precipitation of any month. The winter months tend to bring lower precipitation, on average, and February averages the least amount of monthly precipitation for the year.</p>\n<p>The higher elevation of Munich and the proximity of the Alps play a significant role on the climate, causing the city to have more rain and snow than many other parts of Germany. The Alps affect the city's climate in other ways too: the warm downhill wind from the Alps (f\u00f6hn wind), which can raise temperatures sharply within a few hours even in the winter is but one example.</p>\n<p>Being at the center of Europe, Munich is subject to many climatic influences, so that weather conditions there are more variable than in other European towns, especially those further west and south of the Alps</p>\n<p>At Munich's official weather station, the highest and lowest temperatures ever measured are 37.1\u00a0\u00b0C, on 13 August 2003, and -31.6\u00a0\u00b0C, on 12 February 1929.</p>\n";
  }
  else if (city == "Montreal"){
    $scope.description = "<p>Montreal lies in the hot-summer humid continental climate zone (K\u00f6ppen climate classification: Dfa due to the mean temperature in July being just above 22\u00a0\u00b0C (72\u00a0\u00b0F)),</p>\n<p>Summers are on the whole humid, during the day ranging from warm to hot, with a daily average of 26 to 27\u00a0\u00b0C (79 to 81\u00a0\u00b0F) in July; temperatures in excess of 30\u00a0\u00b0C (86\u00a0\u00b0F) occur often. Conversely, cool fronts can bring crisp, less humid and windy weather in the early and later parts of summer.</p>\n<p>Winter usually brings cold, snowy, windy, and, at times, icy weather, with a daily average ranging from \u22129 to \u221210.5\u00a0\u00b0C (16 to 13\u00a0\u00b0F) in January. However, some winter days rise above freezing, allowing for rain on an average of 4 days in January and February each. Usually, snow covering some or all bare ground lasts on average from the first or second week of December until the last week of March. While the air temperature does not fall below \u221230\u00a0\u00b0C (\u221222\u00a0\u00b0F) every year, the wind chill often makes the temperature feel this low to exposed skin.</p>\n<p>Spring and fall are pleasantly mild but prone to drastic temperature changes; spring even more so than fall. Whereas April tends to be tranquil and sunny much of the time, in May there is a noticeable increase in humidity and thundery rainshowers. Late season heat waves as well as \"Indian summers\" are possible. Early and late season snow storms can occur in November and March, and more rarely in April. Montreal is generally snow free from April 15 to November 15.</p>\n<p>The lowest temperature in Environment Canada's books was \u221237.8\u00a0\u00b0C (\u221236\u00a0\u00b0F) on January 15, 1957, and the highest temperature was 37.6\u00a0\u00b0C (100\u00a0\u00b0F) on August 1, 1975, both at Dorval International Airport.</p>\n<p>Before modern weather record keeping (which dates back to 1871 for McGill), a minimum temperature almost 5 degrees lower was recorded at 7am on January 10, 1859, where it registered at \u221242\u00a0\u00b0C (\u221244\u00a0\u00b0F).</p>\n<p>Annual precipitation is around 980\u00a0mm (39\u00a0in), including an average of about 225\u00a0cm (89\u00a0in) of snowfall, which occurs from November through March. Thunderstorms are common in the period beginning in late spring through summer to early fall; additionally, tropical storms or their remnants can cause heavy rains and gales. Montreal averages 2,029 hours of sunshine annually, with summer being the sunniest season, though slightly wetter than the others in terms of total precipitation.</p>\n";
  }
  else if (city == "Birmingham"){
    $scope.description = "<p>Birmingham has a temperate maritime climate, like much of the British Isles, with average maximum temperatures in summer (July) being around 21.5\u00a0\u00b0C (70.7\u00a0\u00b0F); and in winter (January) around 6.5\u00a0\u00b0C (43.7\u00a0\u00b0F). Between 1971 and 2000 the warmest day of the year on average was 28.8\u00a0\u00b0C (83.8\u00a0\u00b0F) and the coldest night typically fell to \u22129.0\u00a0\u00b0C (15.8\u00a0\u00b0F). Some 11.2 days each year rose to a temperature of 25.1\u00a0\u00b0C (77.2\u00a0\u00b0F) or above and 51.6 nights reported an air frost. The highest recorded temperature, set during August 1990, was 34.9\u00a0\u00b0C (94.8\u00a0\u00b0F).</p>\n<p>Like most other large cities, Birmingham has a considerable urban heat island effect. During the coldest night recorded, 14 January 1982, the temperature fell to \u221220.8\u00a0\u00b0C (\u22125.4\u00a0\u00b0F) at Birmingham Airport on the city's eastern edge, but just \u221212.9\u00a0\u00b0C (8.8\u00a0\u00b0F) at Edgbaston, near the city centre.</p>\n<p>Birmingham is a snowy city relative to other large UK conurbations, due to its inland location and comparatively high elevation. Between 1961 and 1990 Birmingham Airport averaged 13.0 days of snow lying annually, compared to 5.33 at London Heathrow. Snow showers often pass through the city via the Cheshire gap on north westerly airstreams, but can also come off the North Sea from north easterly airstreams.</p>\n<p>Extreme weather is rare but the city has been known to experience tornados \u2013 the most recent being in July 2005 in the south of the city, damaging homes and businesses in the area.</p>\n<h3><span id=\"Environment\">Environment</span></h3>\n\n\n<p>There are 571 parks within Birmingham \u2013 more than any other European city \u2013 totalling over 3,500 hectares (14\u00a0sq\u00a0mi) of public open space. The city has over six million trees, and 250 miles of urban brooks and streams. Sutton Park, which covers 2,400 acres (971\u00a0ha) in the north of the city, is the largest urban park in Europe and a National Nature Reserve. Birmingham Botanical Gardens, located close to the city centre, retains the regency landscape of its original design by J. C. Loudon in 1829, while the Winterbourne Botanic Garden in Edgbaston reflects the more informal Arts and Crafts tastes of its Edwardian origins.</p>\n<p>Birmingham has many areas of wildlife that lie in both informal settings such as the Project Kingfisher and Woodgate Valley Country Park and in a selection of parks such as Lickey Hills Country Park, Handsworth Park, Kings Heath Park, and Cannon Hill Park; the latter also housing the Birmingham Nature Centre.</p>\n";
  }
  else if (city == "Toronto"){
    $scope.description = "<p>Toronto has a humid continental climate (K\u00f6ppen: Dfa/Dfb), with warm, humid summers and cold winters. The city experiences four distinct seasons, with considerable variance in day to day temperature, particularly during the colder weather season. Owing to urbanization and its proximity to water, Toronto has a fairly low diurnal temperature range (day-night temperature difference). The denser urban scape makes for warmer nights year around and is not as cold throughout the winter as surrounding areas (particularly north of the city); however, it can be noticeably cooler on many spring and early summer afternoons under the influence of a lake breeze. Other low-scale maritime effects on the climate include lake-effect snow, fog and delaying of spring- and fall-like conditions, known as seasonal lag.</p>\n<p>Toronto winters sometimes feature cold snaps where maximum temperatures remain below \u221210\u00a0\u00b0C (14\u00a0\u00b0F), often made to feel colder by wind chill. Snowstorms, sometimes mixed with ice and rain, can disrupt work and travel schedules, accumulating snow can fall any time from November until mid-April. However, mild stretches also occur in most winters melting accumulated snow. The summer months are characterized by long stretches of humid weather. Usually in the range from 23 to 31\u00a0\u00b0C (73 to 88\u00a0\u00b0F), daytime temperatures occasionally surpass 35\u00a0\u00b0C (95\u00a0\u00b0F) accompanied by high humidity making it feel oppressive during these brief periods of hot weather. Spring and autumn are transitional seasons with generally mild or cool temperatures with alternating dry and wet periods.</p>\n<p>Precipitation is fairly evenly distributed throughout the year, but summer is usually the wettest season, the bulk falling during thunderstorms. There can be periods of dry weather, but drought-like conditions are rare. The average yearly precipitation is about 831\u00a0mm (32.7\u00a0in), with an average annual snowfall of about 122\u00a0cm (48\u00a0in). Toronto experiences an average of 2,066 sunshine hours, or 45% of daylight hours, varying between a low of 28% in December to 60% in July.</p>\n<p><br></p>\n";
  }
  else if (city == "Hamburg"){
    $scope.description = "<p>Hamburg has an oceanic climate (<i>Cfb</i>), influenced by its proximity to the coast and marine air masses that originate over the Atlantic Ocean. Nearby wetlands also enjoy a maritime temperate climate. Snowfall is rare, generally occurring once or twice a year.</p>\n<p>The warmest months are June, July, and August, with high temperatures of 20.1 to 22.5\u00a0\u00b0C (68.2 to 72.5\u00a0\u00b0F). The coldest are December, January, and February, with low temperatures of \u22120.3 to 1.0\u00a0\u00b0C (31.5 to 33.8\u00a0\u00b0F).</p>\n";
  }
  else if (city == "Melbourne"){
    $scope.description = "<p>Melbourne has a moderate oceanic climate (K\u00f6ppen climate classification <i>Cfb</i>) and is well known for its changeable weather conditions. This is mainly due to Melbourne's location situated on the boundary of the very hot inland areas and the cool southern ocean. This temperature differential is most pronounced in the spring and summer months and can cause very strong cold fronts to form. These cold fronts can be responsible for all sorts of severe weather from gales to severe thunderstorms and hail, large temperature drops, and heavy rain.</p>\n<p>Port Phillip is often warmer than the surrounding oceans and/or the land mass, particularly in spring and autumn; this can set up a \"bay effect\" similar to the \"lake effect\" seen in colder climates where showers are intensified leeward of the bay. Relatively narrow streams of heavy showers can often affect the same places (usually the eastern suburbs) for an extended period, while the rest of Melbourne and surrounds stays dry. Overall, Melbourne is, owing to the rain shadow of the Otway Ranges, nonetheless drier than average for southern Victoria. Within the city and surrounds, however, rainfall varies widely, from around 425 millimetres (17\u00a0in) at Little River to 1,250 millimetres (49\u00a0in) on the eastern fringe at Gembrook. Melbourne receives 48.6 clear days annually. Dewpoint temperatures in the summer range from 9.5\u00a0\u00b0C (49.1\u00a0\u00b0F) to 11.7\u00a0\u00b0C (53.1\u00a0\u00b0F). The city experiences little humidity in summer, except at the end of hot spells following thunderstorms and rain.</p>\n<p>Melbourne is also prone to isolated convective showers forming when a cold pool crosses the state, especially if there is considerable daytime heating. These showers are often heavy and can contain hail and squalls and significant drops in temperature, but they pass through very quickly at times with a rapid clearing trend to sunny and relatively calm weather and the temperature rising back to what it was before the shower. This often occurs in the space of minutes and can be repeated many times in a day, giving Melbourne a reputation for having \"four seasons in one day\", a phrase that is part of local popular culture and familiar to many visitors to the city.</p>\n<p>Melbourne is somewhat colder than other mainland Australian state capital cities in the winter, but not enormously so, with only a small variation in winter temperatures. The lowest temperature on record is \u22122.8\u00a0\u00b0C (27.0\u00a0\u00b0F), on 21 July 1869. However, snowfalls are very rare: the most recent occurrence of sleet in the CBD was on 25 July 1986 and the most recent snowfalls in the outer eastern suburbs and Mount Dandenong were on 10 August 2005. More commonly, Melbourne experiences frosts and fog in winter.</p>\n<p>Melbourne summers are notable for occasional days of extreme heat, which has increased in frequency over the past decade. This occurs when the synoptic pattern is conducive to the transportation of very hot air from central Australia over to the south east corner of the continent. The inland deserts of Australia are amongst the hottest areas on earth, particularly the inland parts of north-west Australia. Every summer, intense heat builds starting in the Pilbara district of Western Australia around October/November and spreading widely over the tropical and subtropical inland parts of the continent by January. In the summer months, the southern part of the continent straddles the westerly wind belt to the south and the subtropical high pressure ridge to the north. The intense heat buildup occurs where high pressure is highly dominant in the upper levels of the atmosphere over the tropics and subtropics of Australia in summer allowing for a huge area of stable atmospheric conditions to predominate. On occasion a strong cold front will develop in summer and bring the westerlies further north than their mean summer position. On these occasions, north-west winds will develop ahead of the cold front's passage and sometimes these can be very strong, even gale force. When this occurs the hot air from the inland is dragged right down over south east Australia, occasionally even as far as southern Tasmania. As this air mass is carried entirely over the continental land mass it remains unmodified, i.e. it does not pick up additional moisture from a body of water and retains most if not all of its heat. On these occasions, the normally temperate parts of southern Victoria, including Melbourne, can experience the full fury of the desert climate albeit only briefly as the cold front responsible usually passes through relatively quickly allowing cool southerly winds from the southern ocean to replace the hot desert air. The highest temperature recorded in Melbourne city was 46.4\u00a0\u00b0C (115.5\u00a0\u00b0F), on 7 February 2009.</p>\n";
  }
  else if (city == "Singapore"){
    $scope.description = "<h2><span id=\"Climate\">Climate</span></h2>\n<p>Singapore has a tropical rainforest climate (K\u00f6ppen: <i>Af</i> ) with no distinctive seasons, uniform temperature and pressure, high humidity, and abundant rainfall. Temperatures usually range from 22 to 35\u00a0\u00b0C (72 to 95\u00a0\u00b0F). Relative humidity averages around 79% in the morning and 73% in the afternoon. April and May are the hottest months, with the wetter monsoon season from November to January. From July to October, there is often haze caused by bush fires in neighbouring Indonesia. Although Singapore does not observe daylight saving time (DST), it follows the GMT+8 time zone, one hour ahead of the typical zone for its geographical location.</p>\n";
  }
  else if (city == "Wellington"){
    $scope.description = "<p>The city averages 2,050 hours of sunshine per year. The climate is a temperate marine one, (K\u00f6ppen: <i>Cfb\u202f</i>) is generally moderate all year round, and rarely sees temperatures above 25\u00a0\u00b0C (77\u00a0\u00b0F) or below 4\u00a0\u00b0C (39\u00a0\u00b0F). The hottest recorded temperature is 31.1\u00a0\u00b0C (88\u00a0\u00b0F), while \u22121.9\u00a0\u00b0C (29\u00a0\u00b0F) is the coldest. The city is notorious for its southerly blasts in winter, which may make the temperature feel much colder. It is generally very windy all year round with high rainfall; average annual rainfall is 1,249\u00a0mm (49\u00a0in), June and July being the wettest months. Frosts are quite common in the hill suburbs and the Hutt Valley between May and September. Snow is very rare at low altitudes, although snow fell on the city and many other parts of the Wellington region during separate events in July and August 2011.</p>\n<center>\n</center>\n<h3><span id=\"Earthquakes\">Earthquakes</span></h3>\n\n\n<p>Wellington suffered serious damage in a series of earthquakes in 1848 and from another earthquake in 1855. The 1855 Wairarapa earthquake occurred on the Wairarapa Fault to the north and east of Wellington. It was probably the most powerful earthquake in recorded New Zealand history, with an estimated magnitude of at least 8.2 on the Moment magnitude scale. It caused vertical movements of two to three metres over a large area, including raising land out of the harbour and turning it into a tidal swamp. Much of this land was subsequently reclaimed and is now part of the central business district. For this reason the street named Lambton Quay is 100 to 200 metres (325 to 650\u00a0ft) from the harbour \u2013 plaques set into the footpath mark the shoreline in 1840, indicating the extent of reclamation.</p>\n<p>The area has high seismic activity even by New Zealand standards, with a major fault line running through the centre of the city, and several others nearby. Several hundred minor fault lines have been identified within the urban area. Inhabitants, particularly in high-rise buildings, typically notice several earthquakes every year. For many years after the 1855 earthquake, the majority of buildings were made entirely from wood. The 1996-restored Government Buildings near Parliament is the largest wooden building in the Southern Hemisphere. While masonry and structural steel have subsequently been used in building construction, especially for office buildings, timber framing remains the primary structural component of almost all residential construction. Residents place their confidence in good building regulations, which became more stringent in the 20th century.</p>\n<p>Since the Canterbury earthquakes of 2010 and 2011, earthquake readiness has become even more of an issue, with buildings declared by Wellington City Council to be earthquake-prone, and the costs of meeting new standards.</p>\n<p>Every five years a year-long slow quake occurs beneath Wellington, stretching from Kapiti to the Marlborough Sounds. It was first measured in 2003, and reappeared in 2008 and 2013. It releases as much energy as a magnitude 7 quake, but as it happens slowly there is no damage. During July 2013 there were many earthquakes, mostly in Cook Strait near Seddon. On 21 July 2013 a magnitude 6.5 earthquake hit the city, but no tsunami report was confirmed nor any major damage. On 16 August 2013 at 2:31\u00a0pm another earthquake struck, this time magnitude 6.6, but again no major damage occurred, though many buildings were evacuated. On 20 January 2014 at 3:52\u00a0pm a rolling 6.2 magnitude earthquake struck the lower North Island 15\u00a0km east of Eketahuna and was felt in Wellington, but little damage was reported initially, except at Wellington Airport where one of the two giant eagle sculptures commemorating The Hobbit became detached from the ceiling.</p>\n";
  }
  else if (city == "Leeds"){
    $scope.description = "<p>Leeds has a climate that is oceanic, greatly influenced by the Atlantic and the Pennines. Summers are usually mild, with moderate rainfall, while winters are chilly, cloudy with occasional snow and frost. Spring and autumn are mild but snow and frost are not unheard of in either season</p>\n<p>July is the warmest month, with a mean temperature of 16\u00a0\u00b0C (61\u00a0\u00b0F), while the coldest month is January, with a mean temperature of 3\u00a0\u00b0C (37\u00a0\u00b0F). Temperatures above 30\u00a0\u00b0C (86\u00a0\u00b0F) and below \u221210\u00a0\u00b0C (14\u00a0\u00b0F) are not very common but can happen occasionally. Temperatures at Leeds Bradford Airport fell to \u221212.6\u00a0\u00b0C (9.3\u00a0\u00b0F) in December 2010 and reached 31.8\u00a0\u00b0C (89\u00a0\u00b0F) at Leeds city centre in August 2003. The record temperature for Leeds is 34.4\u00a0\u00b0C (94\u00a0\u00b0F) during the early August 1990 heatwave.</p>\n<p>As is typical for many sprawling cities in areas of varying topography, temperatures can change depending on location. Average July and August daytime highs exceed 25.0\u00a0\u00b0C (77.0\u00a0\u00b0F) (a value comparable to South East England) in a small area just to the south east of the city centre, where the elevation declines to under 20 metres. This is 2 degrees milder than the typical summer temperature at Leeds Bradford airport weather station (shown in the chart below), at an elevation of 208 metres.</p>\n<p>Situated on the eastern side of the Pennines, Leeds is among the driest cities in the United Kingdom, with an annual rainfall of 660\u00a0mm (25.98\u00a0in).</p>\n<p>Though extreme weather in Leeds is relatively rare, thunderstorms, blizzards, gale force winds and even tornadoes have struck the city. The last reported tornado occurred on 14 September 2006, causing trees to uproot and signal failures at Leeds City railway station.</p>\n";
  }
  else {
  	var theaddress = address;
  }

  if (!$scope.description){
    $http.post(theaddress)
    .then(function (res) {
          $scope.pages = res.data.query.pages;
    });
  }else{
          $scope.pages = "";
  }

  //Weather predection information
  var latitude  =  Session.latitude;
  var longitude = Session.longitude;
    
  //call getCurrentWeather method in factory ‘Weather’
  Weather.getCurrentWeather(latitude,longitude).then(function(resp) {
      $scope.current = resp.data;
      console.log('GOT CURRENT', $scope.current);
      //debugger;
    }, function(error) {
      alert('Unable to get current conditions');
      console.error(error);
    });

})